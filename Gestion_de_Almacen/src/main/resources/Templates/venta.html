<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Venta</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {background-color: #fdfdfd; font-family: 'Inter', sans-serif;}
        .search-box{background:#FCF3E7;border-radius:20px;padding:2rem; font-weight:bold; box-shadow:0px 4px 8px rgba(188,0,0,0.1);}
        .btn-dark{background-color:#f7a942; border:none;}
        .btn-custom{border-radius:20px; padding:10px 20px; font-weight:bold;}
        .title{font-weight:700;font-size:22px; text-align:center; margin-bottom:1.5rem;}
        .title span{color:#FA8C8C;}
    </style>
</head>
<body class="d-flex align-items-center justify-content-center vh-100">

<div class="container">
    <div class="row justify-content-center" method="post" action="/marca/guardar">
        <div class="col-md-8 search-box">
            <h4 class="title">Agregar <span>Venta</span></h4>
            <div th:if="${errorStock}" class="alert alert-danger mt-2" th:text="${errorStock}"></div>
            <form class="row g-2" method="post" action="/venta/guardar" th:object="${venta}">

                <div class="col-md-6">
                    <label for="fecha" class="form-label">Fecha:</label>
                    <input type="date" class="form-control" id="fecha" th:field="*{fecha}">
                </div>

                <div class="col-md-6">
                    <label for="tenis" class="form-label">Producto:</label>
                    <select class="form-select" id="tenis" th:field="*{tenis}" required>
                        <option value="">Selecciona un tenis</option>
                        <option th:each="t : ${tenisList}"
                                th:value="${t.id}"
                                th:text="${t.marca.nombre + ' ' + t.modelo + ' (Talla ' + t.talla + ')'}">
                        </option>
                    </select>
                </div>
                <div class="col-md-6" id="precioContainer" style="display:none;">
                    <label class="form-label">Precio:</label>
                    <p class="form-control-plaintext fw-bold">
                        $ <span id="precioTenis"></span> MXN
                    </p>
                </div>

                <!-- <script>
                    function actualizarPrecio() {
                        const select = document.getElementById("tenis");
                        const precio = select.options[select.selectedIndex].getAttribute("data-precio");
                        const container = document.getElementById("precioContainer");
                        const span = document.getElementById("precioTenis");

                        if (precio) {
                            span.textContent = precio;
                            container.style.display = "block";
                        } else {
                            container.style.display = "none";
                        }
                    }
                </script> -->

                <div class="d-flex justify-content-between mt-4 ">
                    <button type="submit" class="btn btn-dark btn-custom">Registrar Venta</button>
                    <a href="/Dashboard" class="btn btn-dark btn-custom">Volver</a>
                </div>
            </form>

        </div>
    </div>
</div>

</body>
</html>
